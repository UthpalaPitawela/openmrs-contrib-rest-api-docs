<h1 id='visits'>Visits</h1><h2 id='visits-overview'>Visits Overview</h2>
<ul>
<li><p>A Visit in OpenMRS represents precisely what it sounds like: a time when a patient is actively interacting with the 
the healthcare system, typically at a location.</p></li>
<li><p>The metadata differentiating different types of visits is a Visit Type. Visit Types displayed in the user interface, 
also, can be searched against.</p></li>
<li><p>A visit contains encounters, which store more granular data about treatments or services.</p></li>
</ul>
<h2 id='let-s-look-at-an-example-of-visits'>Let’s look at an example of Visits</h2>
<p>At the Amani Clinic, a patient might typically check-in at registration, be seen by a doctor, and receives medication 
<b> dispensed </b> in the pharmacy. This would be recorded as one <b> visit </b> of <b> visit type of Outpatient </b>, and 
contain <b> three encounters (Registration, Consultation, and Dispensing) </b>.</p>
<h2 id='visits-sub-resource-types'>Visits Sub Resource types</h2><h3 id='visits-attribute'>Visits Attribute</h3>
<ul>
<li><p>If you wish to record extra information about visits, you can create Visit Attributes and assign them to Visit Types.</p></li>
<li><p>Visit attributes exists specifically to allow implementations to extend the data model.</p></li>
</ul>
<h2 id='available-operations-for-visits'>Available operations for Visits</h2>
<ol>
<li><a href="#list-visits">List visits</a></li>
<li><a href="#create-a-visit">Create a visit</a></li>
<li><a href="#update-a-visit">Update a visit</a></li>
<li><a href="#delete-a-visit">Delete a visit</a></li>
<li><a href="#list-attribute-sub-resources">List attribute sub resource</a></li>
<li><a href="#create-an-attribute-sub-resource-with-properties">Create attribute sub resource with properties</a></li>
<li><a href="#update-attribute-sub-resource">Update attribute sub resource</a></li>
<li><a href="#delete-attribute-sub-resource">Delete attribute sub resource</a></li>
</ol>
<h2 id='list-visits'>List visits</h2>
<ul>
<li><h3 id='list-all-non-retired-visits'>List all non-retired visits.</h3>
<p>Quickly filter visits with given query parameters.Returns a <code>404 Not Found</code> status if visit not exists. If user not logged 
in to perform this action,a <code>401 Unauthorized</code> status returned.</p>
<h3 id='query-parameters'>Query Parameters</h3>
<table><thead>
<tr>
<th>Parameter</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td><em>patient</em></td>
<td><code>Patient UUID</code></td>
<td>Get visits for this patient</td>
</tr>
<tr>
<td><em>location</em></td>
<td><code>Location UUID</code></td>
<td>Get visits for this location</td>
</tr>
<tr>
<td><em>includeInactive</em></td>
<td><code>Boolean</code></td>
<td>Active/Inactive status of visit</td>
</tr>
<tr>
<td><em>fromStartDate</em></td>
<td><code>Date (ISO8601 Long)</code></td>
<td>Start date of the visit</td>
</tr>
</tbody></table></li>
</ul>
<pre class="highlight shell_session"><code>GET /visit?
includeInactive=true
&amp;fromStartDate=2016-10-08T04:09:23.000Z
&amp;patient=target_patient_uuid
&amp;location=target_location_uuid
</code></pre>
<ul>
<li><h3 id='list-visit-by-uuid'>List visit by UUID.</h3>
<p>Retrieve a visit by its UUID. Returns a <code>404 Not Found</code> status if visit not exists. If user not logged 
in to perform this action, a <code>401 Unauthorized</code> status returned.</p></li>
</ul>
<pre class="highlight shell_session"><code>GET /visit/:target_visit_uuid
</code></pre><h2 id='create-visit'>Create visit</h2>
<ul>
<li><p>To Create a visit you need to specify below attributes in the request body.If you are not logged in to perform this action,
a <code>401 Unauthorized</code> status returned.</p>
<h3 id='attributes'>Attributes</h3>
<table><thead>
<tr>
<th>Parameter</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td><em>patient</em></td>
<td><code>Patient UUID</code></td>
<td>Patient resource UUID</td>
</tr>
<tr>
<td><em>visitType</em></td>
<td><code>Patient UUID</code></td>
<td>Visit type resource UUID</td>
</tr>
<tr>
<td><em>startDatetime</em></td>
<td><code>Date (ISO8601 Long)</code></td>
<td>Start date of the visit</td>
</tr>
<tr>
<td><em>location</em></td>
<td><code>Location UUID</code></td>
<td>Location resource UUID</td>
</tr>
<tr>
<td><em>indication</em></td>
<td><code>string</code></td>
<td>Any indication of the visit</td>
</tr>
<tr>
<td><em>stopDatetime</em></td>
<td><code>Date (ISO8601 Long)</code></td>
<td>End date of the vist</td>
</tr>
<tr>
<td><em>encounters</em></td>
<td><code>Array[]: Encounter UUID</code></td>
<td>Encounter resources UUID</td>
</tr>
<tr>
<td><em>attributes</em></td>
<td><code>Array[]: Attribute</code></td>
<td>List of visit attributes</td>
</tr>
</tbody></table></li>
</ul>
<pre class="highlight shell_session"><code>POST /visit
{
    "patient": "target_patient_uuid",
    "visitType": "target_visitType_uuid",
    "startDatetime": "2016-10-08T04:09:25.000Z",
    "location": "target_location_uuid",
    "indication": null,
    "encounters": [
    "target_encounter_uuid"
    ],
    "attributes": [
    {
        "attributeType": "target_attributeType_uuid",
        "value": "value_for_attribute"
    }
    ]
}
</code></pre><h2 id='update-visit'>Update visit</h2>
<ul>
<li><p>Update a target visit with given UUID, this method only modifies properties in the request. Returns a <code>404 Not Found</code> 
status if visit not exists. If user not logged in to perform this action, a <code>401 Unauthorized</code> status returned.</p>
<h3 id='query-parameters-2'>Query Parameters</h3>
<table><thead>
<tr>
<th>Parameter</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td><em>uuid</em></td>
<td><code>target_visit_uuid</code></td>
<td>Target visit resource UUID</td>
</tr>
</tbody></table>
<h3 id='attributes-2'>Attributes</h3>
<table><thead>
<tr>
<th>Parameter</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td><em>resource</em></td>
<td><code>Visit</code></td>
<td>Visit resource with updated properties.</td>
</tr>
</tbody></table></li>
</ul>
<pre class="highlight shell_session"><code>POST /visit/:target_visit_uuid
-d  modified_visit_object
</code></pre><h2 id='delete-visit'>Delete visit</h2>
<ul>
<li><p>Delete or Retire a target visit by its UUID. Returns a <code>404 Not Found</code> status if visit not exists.If user not logged 
in to perform this action, a <code>401 Unauthorized</code> status returned.</p>
<h3 id='query-parameters-3'>Query Parameters</h3>
<table><thead>
<tr>
<th>Parameter</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td><em>purge</em></td>
<td><code>Boolean</code></td>
<td>The resource will be voided/retired unless purge = ‘true’</td>
</tr>
</tbody></table></li>
</ul>
<pre class="highlight shell_session"><code>DELETE /visit/:target_visit_uuid?purge=true
</code></pre><h2 id='list-attribute-sub-resources'>List attribute sub resources</h2>
<ul>
<li><h3 id='list-all-attribute-sub-resources-for-a-visit'>List all attribute sub resources for a visit.</h3>
<p>Retrieve all <b>attribute</b> sub resources of a  <b>visit</b> resource by target_visit_uuid.Returns a 
<code>404 Not Found</code> status if attribute not exists. If user not logged in to perform this action, a <code>401 Unauthorized</code> status
returned.</p></li>
</ul>
<pre class="highlight shell_session"><code>GET /visit/:target_visit_uuid/attribute 
</code></pre>
<ul>
<li><h3 id='list-attribute-sub-resources-by-it-39-s-uuid-and-parent-visit-uuid'>List attribute sub resources by it&#39;s UUID and parent visit UUID.</h3>
<p>Retrieve an <b>attribute</b> sub resources of a <b>visit</b> resource.Returns a 
 <code>404 Not Found</code> status if attribute not exists. If you are not logged in to perform this action, a <code>401 Unauthorized</code> status
 returned.</p></li>
</ul>
<pre class="highlight shell_session"><code>GET /visit/:target_visit_uuid/attribute/:target_attribute_uuid
</code></pre><h2 id='create-an-attribute-sub-resource-with-properties'>Create an attribute sub resource with properties</h2>
<ul>
<li><p>To Create an attribute sub resource for a specific visit resource you need to specify below attributes in the request body.
If user not logged in to perform this action, a <code>401 Unauthorized</code> status returned.</p>
<h3 id='attributes-3'>Attributes</h3>
<table><thead>
<tr>
<th>Parameter</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td><em>attributeType</em></td>
<td><code>Attribute_Type UUID</code></td>
<td>Create Attribute from this Attribute_Type</td>
</tr>
<tr>
<td><em>value</em></td>
<td><code>Depends on Attribute_Type Selected</code></td>
<td>Value for the attribute</td>
</tr>
</tbody></table></li>
</ul>
<pre class="highlight shell_session"><code>POST visit/:target_visit_uuid/attribute 
{
    "attributeType": "target_attribute_type_uuid",
    "value": "value_for_the_attriute"
}
</code></pre><h2 id='update-attribute-sub-resource'>Update attribute sub resource</h2>
<ul>
<li><p>Updates an attribute sub resource value with given uuid, this method will only modify value of the sub resource.Returns 
a <code>404 Not Found</code> status if attribute not exists.If user not logged in to perform this action, a <code>401 Unauthorized</code> status
returned.</p>
<h3 id='attributes-4'>Attributes</h3>
<table><thead>
<tr>
<th>Parameter</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td><em>attributeType</em></td>
<td><code>Attribute_Type UUID</code></td>
<td>Attribute_Type resource UUID</td>
</tr>
<tr>
<td><em>updated value</em></td>
<td><code>Depends on Attribute_Type Selected</code></td>
<td>Updated value for the attribute</td>
</tr>
</tbody></table></li>
</ul>
<pre class="highlight shell_session"><code>POST visit/:target_visit_uuid/attribute/:target_attribute_uuid
{
    "attributeType": "target_attribute_type_uuid",
    "value": "modified_attriute_value"
} 
</code></pre><h2 id='delete-attribute-sub-resource'>Delete attribute sub resource</h2>
<ul>
<li><p>Delete or Retire a target attribute sub resource by its UUID.Returns a <code>404 Not Found</code> status if attribute not exists. 
If user not logged in to perform this action, a <code>401 Unauthorized</code> status returned.</p>
<h3 id='query-parameters-4'>Query Parameters</h3>
<table><thead>
<tr>
<th>Parameter</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td><em>purge</em></td>
<td><code>Boolean</code></td>
<td>The resource will be voided/retired unless purge = ‘true’</td>
</tr>
</tbody></table></li>
</ul>
<pre class="highlight shell_session"><code>DELETE /visit/:target_visit_uuid/attribute/:target_attribute_uuid
</code></pre>